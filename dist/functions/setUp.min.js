"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setUp=exports.setDefaults=exports.default=exports.createTempDir=exports.beforeEach=exports.afterEach=void 0;var _fs=require("fs"),_removeDirectory=_interopRequireDefault(require("./removeDirectory"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var __awaiter=function(e,t,r,a){return new(r||(r=Promise))((function(o,c){function s(e){try{f(a.next(e))}catch(e){c(e)}}function i(e){try{f(a.throw(e))}catch(e){c(e)}}function f(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}f((a=a.apply(e,t||[])).next())}))};let tempDir="test-temp/",srcPath=`${tempDir}src`;const afterEach=()=>(0,_removeDirectory.default)(tempDir);exports.afterEach=afterEach;const createTempDir=(e=!0)=>__awaiter(void 0,void 0,void 0,(function*(){return e?(0,_removeDirectory.default)(tempDir).then((e=>createTempDir((0,_fs.existsSync)(e)))).catch((e=>console.error("Error: ",e))):(0,_fs.mkdirSync)(srcPath,{recursive:!0})}));exports.createTempDir=createTempDir;const beforeEach=()=>createTempDir();exports.beforeEach=beforeEach;const setDefaults=(e=null)=>{e&&(tempDir=e,srcPath=`${tempDir}src`)};exports.setDefaults=setDefaults;const setUp=exports.setUp={afterEach:afterEach,beforeEach:beforeEach,createTempDir:createTempDir,setDefaults:setDefaults};var _default=exports.default=setUp;