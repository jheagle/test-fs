"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setUp=exports.setDefaults=exports.default=exports.createTempDir=exports.beforeEach=exports.afterEach=void 0;var _fs=require("fs"),_removeDirectory=require("./removeDirectory"),_fileExists=require("./fileExists"),__awaiter=function(e,r,t,s){return new(t||(t=Promise))((function(o,c){function a(e){try{f(s.next(e))}catch(e){c(e)}}function i(e){try{f(s.throw(e))}catch(e){c(e)}}function f(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,i)}f((s=s.apply(e,r||[])).next())}))};let tempDir="test-temp/",srcPath=`${tempDir}src`;const afterEach=()=>(0,_removeDirectory.removeDirectory)(tempDir);exports.afterEach=afterEach;const createTempDir=(e=!0)=>__awaiter(void 0,void 0,void 0,(function*(){return e?(0,_removeDirectory.removeDirectory)(tempDir).then((e=>createTempDir((0,_fileExists.fileExists)(e)))).catch((e=>console.error("Error: ",e))):(0,_fs.mkdirSync)(srcPath,{recursive:!0})}));exports.createTempDir=createTempDir;const beforeEach=()=>createTempDir();exports.beforeEach=beforeEach;const setDefaults=(e=null)=>{e&&(tempDir=e,srcPath=`${tempDir}src`)};exports.setDefaults=setDefaults;const setUp=exports.setUp={afterEach:afterEach,beforeEach:beforeEach,createTempDir:createTempDir,setDefaults:setDefaults};var _default=exports.default=setUp;